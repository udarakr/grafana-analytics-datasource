{"version":3,"sources":["../../src/datasource.js"],"names":["TableModel","AnalyticsDatasource","instanceSettings","$q","backendSrv","type","url","name","q","datasourceRequest","method","then","response","status","message","title"],"mappings":";;;;;;;;;AAAA;;;;AACA;;IAAYA,U;;;;;;;;IAECC,mB,WAAAA,mB;AAET,iCAAYC,gBAAZ,EAA8BC,EAA9B,EAAkCC,UAAlC,EAA8C;AAAA;;AAC1C,aAAKC,IAAL,GAAYH,iBAAiBG,IAA7B;AACA,aAAKC,GAAL,GAAWJ,iBAAiBI,GAA5B;AACA,aAAKC,IAAL,GAAYL,iBAAiBK,IAA7B;;AAEA,aAAKC,CAAL,GAASL,EAAT;AACA,aAAKC,UAAL,GAAkBA,UAAlB;AACH;;;;yCAEgB;AACb,mBAAO,KAAKA,UAAL,CAAgBK,iBAAhB,CAAkC;AACrCH,qBAAK,KAAKA,GAAL,GAAW,SADqB;AAErCI,wBAAQ;AAF6B,aAAlC,EAGJC,IAHI,CAGC,oBAAY;AAChB,oBAAIC,SAASC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,2BAAO,EAAEA,QAAQ,SAAV,EAAqBC,SAAS,kCAA9B,EAAkEC,OAAO,SAAzE,EAAP;AACH;AACJ,aAPM,CAAP;AAQH","file":"datasource.js","sourcesContent":["import _ from \"lodash\";\nimport * as TableModel from 'app/core/table_model';\n\nexport class AnalyticsDatasource {\n\n    constructor(instanceSettings, $q, backendSrv) {\n        this.type = instanceSettings.type;\n        this.url = instanceSettings.url;\n        this.name = instanceSettings.name;\n\n        this.q = $q;\n        this.backendSrv = backendSrv;\n    }\n\n    testDatasource() {\n        return this.backendSrv.datasourceRequest({\n            url: this.url + \"/tables\",\n            method: 'GET'\n        }).then(response => {\n            if (response.status === 200) {\n                return { status: \"success\", message: \"Analytics data source is working\", title: \"Success\" };\n            }\n        });\n    }\n}\n"]}