{"version":3,"sources":["../src/datasource.js"],"names":["_","TableModel","AnalyticsDatasource","instanceSettings","$q","backendSrv","type","url","name","q","datasourceRequest","method","then","response","status","message","title"],"mappings":";;;;;;;;;;;;;;;AAAOA,a;;AACKC,sB;;;;;;;;;;;;;;;;;;;;;2CAECC,mB;AAET,6CAAYC,gBAAZ,EAA8BC,EAA9B,EAAkCC,UAAlC,EAA8C;AAAA;;AAC1C,yBAAKC,IAAL,GAAYH,iBAAiBG,IAA7B;AACA,yBAAKC,GAAL,GAAWJ,iBAAiBI,GAA5B;AACA,yBAAKC,IAAL,GAAYL,iBAAiBK,IAA7B;;AAEA,yBAAKC,CAAL,GAASL,EAAT;AACA,yBAAKC,UAAL,GAAkBA,UAAlB;AACH;;;;qDAEgB;AACb,+BAAO,KAAKA,UAAL,CAAgBK,iBAAhB,CAAkC;AACrCH,iCAAK,KAAKA,GAAL,GAAW,SADqB;AAErCI,oCAAQ;AAF6B,yBAAlC,EAGJC,IAHI,CAGC,oBAAY;AAChB,gCAAIC,SAASC,MAAT,KAAoB,GAAxB,EAA6B;AACzB,uCAAO,EAAEA,QAAQ,SAAV,EAAqBC,SAAS,kCAA9B,EAAkEC,OAAO,SAAzE,EAAP;AACH;AACJ,yBAPM,CAAP;AAQH","file":"datasource.js","sourcesContent":["import _ from \"lodash\";\nimport * as TableModel from 'app/core/table_model';\n\nexport class AnalyticsDatasource {\n\n    constructor(instanceSettings, $q, backendSrv) {\n        this.type = instanceSettings.type;\n        this.url = instanceSettings.url;\n        this.name = instanceSettings.name;\n\n        this.q = $q;\n        this.backendSrv = backendSrv;\n    }\n\n    testDatasource() {\n        return this.backendSrv.datasourceRequest({\n            url: this.url + \"/tables\",\n            method: 'GET'\n        }).then(response => {\n            if (response.status === 200) {\n                return { status: \"success\", message: \"Analytics data source is working\", title: \"Success\" };\n            }\n        });\n    }\n}\n"]}